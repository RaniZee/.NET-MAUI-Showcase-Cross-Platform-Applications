<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:TaskTrackerMAUI.ViewModels"
             xmlns:models="clr-namespace:TaskTrackerMAUI.Models"
             x:Class="TaskTrackerMAUI.Views.TaskDetailPage"
             x:DataType="viewmodels:TaskDetailViewModel"
             Title="{Binding Title}"
             BackgroundColor="{AppThemeBinding Light={StaticResource White}, Dark={StaticResource Black}}">

    <ScrollView Padding="15">
        <VerticalStackLayout Spacing="15">
            <Label Text="Название задачи" FontFamily="Bahnschrift"/>
            <Entry Text="{Binding Task.Title}" Placeholder="Введите название" FontFamily="Bahnschrift"/>

            <Label Text="Описание" FontFamily="Bahnschrift"/>
            <Editor Text="{Binding Task.Description}" Placeholder="Введите описание" AutoSize="TextChanges" HeightRequest="100" FontFamily="Bahnschrift"/>

            <Label Text="Срок выполнения" FontFamily="Bahnschrift"/>
            <DatePicker Date="{Binding Task.DueDate, Mode=TwoWay}" FontFamily="Bahnschrift"/>
            <Label Text="Приоритет" FontFamily="Bahnschrift"/>
            <Picker ItemsSource="{Binding PriorityOptions}"
                    SelectedItem="{Binding Task.Priority, Mode=TwoWay}"
                    ItemDisplayBinding="{Binding .}"
                    FontFamily="Bahnschrift"/>

            <Label Text="Категория" FontFamily="Bahnschrift"/>
            <Entry Text="{Binding Task.Category}" Placeholder="Введите категорию" FontFamily="Bahnschrift"/>

            <Label Text="Статус" FontFamily="Bahnschrift"/>
            <Picker ItemsSource="{Binding StatusOptions}"
                    SelectedItem="{Binding Task.Status, Mode=TwoWay}"
                    ItemDisplayBinding="{Binding .}"
                    FontFamily="Bahnschrift"/>

            <Button Text="Сохранить" Command="{Binding SaveTaskCommand}" HorizontalOptions="Fill" FontFamily="Bahnschrift" Margin="0,20,0,0"/>
            <Button Text="Удалить" Command="{Binding DeleteTaskCommand}" HorizontalOptions="Fill" FontFamily="Bahnschrift" BackgroundColor="DarkRed" Margin="0,10,0,0" IsVisible="{Binding Task.Id, Converter={StaticResource IntToBoolConverterForVisibility}}" />
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>